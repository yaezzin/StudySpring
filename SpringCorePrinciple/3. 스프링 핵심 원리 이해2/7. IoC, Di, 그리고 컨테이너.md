## IoC, DI, 그리고 컨테이너

## 제어의 역전 IoC

: ```프로그램의 제어 흐름을 직접 관리하는 것이 아닌 외부에서 관리하는 것```

* 기존에는 클라이언트 구현 객체가 스스로 필요한 서버 구현 객체를 생성, 연결, 실행했음
* 하지만 AppConfig 등장 후에 구현 객체는 그저 자신의 로직을 실행하는 역할만 담당하게 됨
* 이제 제어흐름은 AppConfig가 가지게 됨

## 의존관계 주입 DI

OrderServiceImpl은 DiscountPolicy 인터페이스에 의존하며, 실제 어떤 구현 객체가 사용될지 모름
* 의존관계는 ```정적인 클래스 의존관계```와 ```동적인 객체 의존 관계``` 둘을 불리해서 생각해야함 


#### 1. 정적인 클래스 의존 관계

<img width="450" alt="스크린샷 2022-05-31 오후 9 46 43" src="https://user-images.githubusercontent.com/97823928/171176630-e1e38e40-5d08-40a3-ad00-6ef767d16bdd.png">

* OrderServiceImp은 MemberRepository, DiscountPolicy에 의존
* 하지만 이러한 클래스 의존 관계만으로는 실제 어떤 객체가 주입될지 알 수 없음

#### 2. 동적인 객체 인스턴스 의존 관계

: 애플리케이션 실행 시점에 실제 생성된 객체의 참조가 연결된 의존관계를 의미

<img width="507" alt="스크린샷 2022-05-31 오후 9 50 39" src="https://user-images.githubusercontent.com/97823928/171177355-08893860-9fa7-41aa-8aef-65857e4531c2.png">

* 애플리케이션 실행 시점에 외부에서 실제 구현 객체를 생성하고 클라이언트에 전달해서 클라이언트와 서버의 의존관계가 연결되는 것 : ```의존 관계 주입```
* 객체 인스턴스를 생성하고, 그 참조값만 전달하면 연결이 됨
* 의존관계 주입을 사용하면 정적인 클래스 의존관계를 변경하지 않고, 동적인 객체 인스턴스 의존관계를 쉽게 변경할 수 있음

## IoC 컨테이너 (DI 컨테이너)

AppConfig 처럼 객체를 생성하고 관리하며 의존관계를 연결하는 것을 DI 컨테이너라 함!

