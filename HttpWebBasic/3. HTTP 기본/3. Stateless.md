# # 3-3. Stateful, Stateless

## 무상태 프로토콜
* 서버가 클라이언트의 상태를 보존하지 않음
* 서버 확장성이 높으나 (스케일 아웃), 클라이언트가 추가 데이터를 전송해야함

## Stateful

<img width="500" alt="스크린샷 2022-03-21 오후 7 14 51" src="https://user-images.githubusercontent.com/97823928/159241645-8a7d8eaa-c29d-4d87-b816-87b9c5399edf.png">

상태 유지 O : 중간에 다른 점원으로 바뀌면 안되며, 중간에 다른 점원으로 바뀔 때 상태 정보를 다른 점원에게 미리 알려줘야함
* 고객 : 이 노트북 얼마인가요?
* 점원 : 100만원 입니다. 👉```노트북 상태 유지```
* 고객 : 2개 구매 하겠습니다.
* 점원 : 200만원입니다. 신용카드, 현금 중 어떤 걸로 구매하시겠어요? 👉 ```노트북, 2개 상태 유지```
* 고객 : 신용카드로 구매하겠습니다.
* 점원 : 200만원 결제 완료되었습니다. 👉 ```노트북, 2개, 신용카드 상태 유지```

## Stateless
<img width="500" alt="스크린샷 2022-03-21 오후 7 16 19" src="https://user-images.githubusercontent.com/97823928/159241791-91d17e53-6c91-4b97-af8c-1bf1e9f01928.png">


상태 유지 X : 중간에 점원이 바뀌면?

* 고객  : 이 노트북 얼마인가요?
* 점원A : 100만원 입니다.
* 고객  : 노트북 2개 구매하겠습니다.
* 점원B : 노트북 2개는 200만원입니다. 신용카드, 현금 중에 어떤 걸로 구매하시겠어요?
* 고객 : ```노트북 2개를 신용카드```로 구매하겠습니다.
* 점원C : 200만원 결제 완료되었습니다.

👉 무상태 : 중간에 점원이 바뀌어도 된다
* 갑자기 클라이언트 요청이 증가해도 서버를 대거 투입할 수 있다.
* 무상태는 응답 서버를 쉽게 바꿀 수 있다 ➡ 무한한 서버 증설 가능

## 실무 한계
모든 것을 무상태로 설계하는 것은 아니다!  

```무상태``` : 로그인이 필요 없는 단순한 서비스 소개 화면  
```상태 유지``` : 로그인
* 로그인한 사용자의 경우 로그인 했다는 상태를 서버에 유지
* 일반적으로 브라우저 쿠키와 서버 세션등을 사용해서 상태 유지
* 상태 유지는 최소한만 사용

